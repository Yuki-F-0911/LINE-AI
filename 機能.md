# 陸上競技練習相談LINEアプリケーション 要件定義（案）

## 1. プロジェクト概要

### 1.1. 背景と目的
AI技術の急速な進化は社会に大きな変革をもたらし、人間の知的な活動領域においてもその影響は日々増している。このような時代背景において、人間ならではの身体性・フィジカルな活動の価値が改めて問い直されている。
本プロジェクトは、特に「走る」という根源的かつ多くの人々にとって身近な身体活動を通じて、人々が自身のフィジカルな可能性を追求し、その過程で得られる達成感や心身の充実といった価値を再発見することを支援する。AIという最新技術を活用しつつも、その目的は人間の身体的な営みを豊かにし、デジタル化が進む社会における人間性の再確認に貢献することにある。ランニングというスポーツを通じて、ユーザー一人ひとりが自身の価値を実感し、より豊かな人生を送るための一助となることを目指す。

### 1.2. 開発するアプリケーションの概要
LINEプラットフォームを活用し、主に中長距離・トラック種目のランナーを対象とした練習相談アプリケーションを開発する。ユーザーはLINEのチャット形式で日々の練習日誌を記録し、AIがそれに対して**ユーザーのレベルや理解度に応じたパーソナライズされた**フィードバックやアドバイスを提供することで、競技パフォーマンスの向上、練習の継続、そしてQOLや生きがいの向上を支援する。この**高度なパーソナライズ**こそが、本アプリケーションが提供する核心的価値の一つである。

## 2. ターゲットユーザー

### 2.1. ユーザーニーズ
    - 自分のレベルや目標に合った練習方法を知りたい。
    - 練習の成果や課題について客観的なフィードバックが欲しい。
    - 怪我なく継続的にトレーニングを続けたい。
    - モチベーションを維持したい。
    - 練習の記録を手軽につけたい。
    - 専門家やコーチに相談する敷居の高さを感じている。
    - **自分に合った言葉で、分かりやすいアドバイスが欲しい。**

### 2.2. ユーザーレベルと種目
    - **レベル:** 初心者から上級者まで幅広く対応。初期はユーザーに大まかなレベル感（例：始めたばかり、健康維持、大会完走目標、記録更新目標など）を選択してもらうか、もしくはAIが数回のやり取りで推定する。その後、AIが継続的なコミュニケーションを通じてユーザーのレベルをより正確に把握し、パーソナライズされたアドバイスを提供する。
    - **種目:** 主に中長距離（例：800m, 1500m, 3000m, 5000m, 10000m, ハーフマラソン, フルマラソン）。トラック種目に対応。初期の構想ではフィールド種目は対象外とする。

## 3. 主要機能

### 3.1. コア機能
    - **練習日誌入力機能:**
        - LINEのチャットインターフェースを通じて、ユーザーが日々の練習内容や体調などをテキストで簡単に入力できる。
        - **主な入力項目:**
            - **練習メニュー:** 行った練習の種類（例：ジョグ、インターバル走、ペース走、レペティション、ビルドアップ走、LSDなど）。
            - **練習結果:** 実施した距離、時間、本数、設定ペースやタイム、実際のペースやタイム、レスト時間など、メニューに応じた具体的な数値。
            - （任意入力項目として検討：その日の体調、主観的なきつさ(RPE)、睡眠時間、食事、気づいたこと、悩みなども促す）
    - **AIによるフィードバック機能:**
        - 入力された練習日誌（メニューと結果）に基づき、AIが個別最適化されたフィードバックやアドバイスをチャット形式で提供する。
        - **フィードバックの主な内容:**
            - **科学的根拠に基づく意見:**
                - 練習負荷の適切性（量、強度）。
                - トレーニングの目的に対する整合性。
                - 生理学的な効果の解説（例：「今日のインターバル走は最大酸素摂取量の向上に効果的でした」など）。
                - 必要に応じた改善点や次への提案（例：「もう少しペースを抑えて本数を増やすと持久力向上に繋がります」「次回はレストを短くしてみましょう」など）。
                - **ユーザーのレベルや理解度に応じて、専門用語の使用頻度や解説の深さを調整する。**（例：初心者には平易な言葉で、上級者にはより専門的な分析を交えるなど）
            - **モチベーション維持・向上のための言葉かけ:**
                - ユーザーの努力や成果を具体的に承認し、称賛する。
                - ポジティブな言葉遣いを心がけ、前向きな気持ちにさせる。
                - 目標達成に向けた期待感を醸成するようなメッセージ。
                - 困難や停滞期に対する共感と、乗り越えるためのヒントや励まし。
        - **パーソナライズ技術アプローチ（案）:**
            - 専門知識や過去のユーザーデータなどを活用したRAG (Retrieval Augmented Generation) の導入を検討。
            - DifyなどのLLMアプリケーション開発・運用プラットフォームの活用を検討し、効率的なパーソナライズロジックの実装を目指す。

### 3.2. サブ機能
    - （今後検討：目標設定機能、進捗可視化機能、リマインダー機能、疲労度管理機能、簡単な豆知識提供機能など）

## 4. LINEプラットフォーム活用方針

### 4.1. LINE Botの役割
    - ユーザーとの対話インターフェース（練習日誌の受付、AIからのフィードバック送信）。
    - 定期的な声かけやリマインダーの送信（サブ機能として検討）。

### 4.2. LIFFアプリの活用（もしあれば）
    - （今後検討：詳細なデータ入力フォーム、過去の記録一覧表示、グラフ表示、目標設定・管理画面など）

## 5. 非機能要件（案）

### 5.1. パフォーマンス
    - AIの応答速度はユーザーがストレスを感じない程度（例：数秒以内）を目指す。
### 5.2. セキュリティ
    - ユーザーの個人情報や練習記録を適切に保護する。
### 5.3. UI/UX
    - LINEのチャットに慣れたユーザーが直感的に操作できるシンプルなインターフェース。
    - AIの応答は親しみやすく、専門的でありながらも分かりやすく、モチベーションを高めるようなトーンを意識する。**特に、ユーザーのレベルや特性に合わせて、言葉遣いや情報の粒度を調整し、最適なコミュニケーションを図る。**

## 6. マネタイズ（もしあれば）
（後日検討。無料提供か、一部有料機能か、広告モデルかなどを検討）

## 7. 今後の検討事項
    - AIの学習データ収集・管理方法（特に科学的根拠のあるフィードバック生成のため）
    - フィードバックの質の担保と向上策（専門家の監修や定期的なアップデートなど）
    - 専門家（コーチ、トレーナー、栄養士など）との連携可能性
    - フィールド種目への対応拡張
    - ユーザーの主観的な情報（体調、RPE、気分など）をどのようにAIフィードバックに活かすか
    - 継続利用を促すためのゲーミフィケーション要素の導入検討
    - **ユーザーレベルに応じたフィードバック表現（専門用語の利用度合い、解説の深度、具体例の提示方法など）の最適化ロジックの構築。**
    - **パーソナライズを実現するための具体的な技術選定（RAG、LLMオーケストレーションツール、データベース等）とPoC（概念実証）による検証。**

## 8. 技術スタック（案）

### 8.1. プログラミング言語
    - バックエンド: Python (Flask, FastAPI等) や Node.js (Express等) を有力候補として検討。
        - Python: 機械学習ライブラリとの親和性が高く、RAG実装にも有利。
        - Node.js: 非同期処理に強く、LINE Bot開発との相性も良い。

### 8.2. AI・機械学習関連
    - 大規模言語モデル (LLM): Google Gemini API
    - RAG (Retrieval Augmented Generation): LangChain, LlamaIndex等のフレームワークを活用し、専門知識データベースとLLMを連携させることを検討。
    - LLMオーケストレーション: Dify等のプラットフォーム活用を検討し、プロンプトエンジニアリング、ワークフロー管理、ログ分析などを効率化。
    - ベクトルデータベース（RAG用）: Pinecone, Weaviate, Chroma DB等を候補として検討。

### 8.3. データベース
    - ユーザー情報、練習記録、AIとの対話ログ等の永続化のため、リレーショナルデータベース（PostgreSQL, MySQL等）またはNoSQLデータベース（MongoDB等）を検討。

### 8.4. プラットフォーム・インフラ
    - LINE Messaging API
    - クラウドプラットフォーム: AWS, Google Cloud, Azure 等のサーバーレス環境やコンテナ環境の活用を検討。 